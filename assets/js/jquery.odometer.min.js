(function(){var H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la=[].slice;X="<span class=\"odometer-value\"></span>",U="<span class=\"odometer-ribbon\"><span class=\"odometer-ribbon-inner\">"+X+"</span></span>",K="<span class=\"odometer-digit\"><span class=\"odometer-digit-spacer\">8</span><span class=\"odometer-digit-inner\">"+U+"</span></span>",N="<span class=\"odometer-formatting-mark\"></span>",J="(,ddd).dd",O=/^\(?([^)]*)\)?(?:(.)(d+))?$/,P=30,M=2e3,H=20,Q=2,L=.5,R=1e3/P,I=1e3/H,V="transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",da=document.createElement("div").style,W=null!=da.transition||null!=da.webkitTransition||null!=da.mozTransition||null!=da.oTransition,ba=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,S=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,Z=function(c){var a;return a=document.createElement("div"),a.innerHTML=c,a.children[0]},aa=function(c,a){return c.className=c.className.replace(new RegExp("(^| )"+a.split(" ").join("|")+"( |$)","gi")," ")},Y=function(c,a){return aa(c,a),c.className+=" "+a},ea=function(d,a){var b;return null==document.createEvent?void 0:(b=document.createEvent("HTMLEvents"),b.initEvent(a,!0,!0),d.dispatchEvent(b))},_=function(){var c,d;return null==(c=null!=(d=window.performance)&&"function"==typeof d.now?d.now():void 0)?+new Date:c},ca=function(c,d){return null==d&&(d=0),d?(c*=Math.pow(10,d),c+=.5,c=Math.floor(c),c/=Math.pow(10,d)):Math.round(c)},fa=function(b){return 0>b?Math.ceil(b):Math.floor(b)},$=function(b){return b-ca(b)},ha=!1,(ga=function(){var f,g,h,i,j;if(!ha&&null!=window.jQuery){for(ha=!0,i=["html","text"],j=[],g=0,h=i.length;h>g;g++)f=i[g],j.push(function(c){var d;return d=window.jQuery.fn[c],window.jQuery.fn[c]=function(b){var a;return null==b||null==(null==(a=this[0])?void 0:a.odometer)?d.apply(this,arguments):this[0].odometer.update(b)}}(f));return j}})(),setTimeout(ga,0),T=function(){function b(a){var f,j,k,q,r,s,t,u,v,w,x=this;if(this.options=a,this.el=this.options.el,null!=this.el.odometer)return this.el.odometer;for(j in this.el.odometer=this,u=b.options,u)q=u[j],null==this.options[j]&&(this.options[j]=q);null==(r=this.options).duration&&(r.duration=M),this.MAX_VALUES=0|this.options.duration/R/Q,this.resetFormat(),this.value=this.cleanValue(null==(v=this.options.value)?"":v),this.renderInside(),this.render();try{for(w=["innerHTML","innerText","textContent"],s=0,t=w.length;t>s;s++)k=w[s],null==this.el[k]||function(c){return Object.defineProperty(x.el,c,{get:function(){var a;return"innerHTML"===c?x.inside.outerHTML:null==(a=x.inside.innerText)?x.inside.textContent:a},set:function(b){return x.update(b)}})}(k)}catch(a){f=a,this.watchForMutations()}}return b.prototype.renderInside=function(){return this.inside=document.createElement("div"),this.inside.className="odometer-inside",this.el.innerHTML="",this.el.appendChild(this.inside)},b.prototype.watchForMutations=function(){var a=this;if(null!=S)try{return null==this.observer&&(this.observer=new S(function(){var b;return b=a.el.innerText,a.renderInside(),a.render(a.value),a.update(b)})),this.watchMutations=!0,this.startWatchingMutations()}catch(a){}},b.prototype.startWatchingMutations=function(){return this.watchMutations?this.observer.observe(this.el,{childList:!0}):void 0},b.prototype.stopWatchingMutations=function(){var b;return null==(b=this.observer)?void 0:b.disconnect()},b.prototype.cleanValue=function(c){var d;return"string"==typeof c&&(c=c.replace(null==(d=this.format.radix)?".":d,"<radix>"),c=c.replace(/[.,]/g,""),c=c.replace("<radix>","."),c=parseFloat(c,10)||0),ca(c,this.format.precision)},b.prototype.bindTransitionEnd=function(){var h,i,j,k,l,m,n=this;if(!this.transitionEndBound){for(this.transitionEndBound=!0,i=!1,l=V.split(" "),m=[],j=0,k=l.length;k>j;j++)h=l[j],m.push(this.el.addEventListener(h,function(){return!!i||(i=!0,setTimeout(function(){return n.render(),i=!1,ea(n.el,"odometerdone")},0),!0)},!1));return m}},b.prototype.resetFormat=function(){var c,h,k,l,m,n,o,p;if(c=null==(o=this.options.format)?J:o,c||(c="d"),k=O.exec(c),!k)throw new Error("Odometer: Unparsable digit format");return p=k.slice(1,4),n=p[0],m=p[1],h=p[2],l=(null==h?void 0:h.length)||0,this.format={repeating:n,radix:m,precision:l}},b.prototype.render=function(i){var j,k,l,m,n,o,p;for(null==i&&(i=this.value),this.stopWatchingMutations(),this.resetFormat(),this.inside.innerHTML="",n=this.options.theme,j=this.el.className.split(" "),m=[],o=0,p=j.length;p>o;o++)k=j[o],k.length&&((l=/^odometer-theme-(.+)$/.exec(k))?n=l[1]:/^odometer(-|$)/.test(k)||m.push(k));return m.push("odometer"),W||m.push("odometer-no-transitions"),n?m.push("odometer-theme-"+n):m.push("odometer-auto-theme"),this.el.className=m.join(" "),this.ribbons={},this.formatDigits(i),this.startWatchingMutations()},b.prototype.formatDigits=function(l){var a,m,n,o,p,q,r,s,t,u;if(this.digits=[],this.options.formatFunction)for(n=this.options.formatFunction(l),t=n.split("").reverse(),p=0,r=t.length;r>p;p++)m=t[p],m.match(/0-9/)?(a=this.renderDigit(),a.querySelector(".odometer-value").innerHTML=m,this.digits.push(a),this.insertDigit(a)):this.addSpacer(m);else for(o=!this.format.precision||!$(l)||!1,u=l.toString().split("").reverse(),q=0,s=u.length;s>q;q++)a=u[q],"."===a&&(o=!0),this.addDigit(a,o)},b.prototype.update=function(d){var e,f=this;return d=this.cleanValue(d),(e=d-this.value)?(aa(this.el,"odometer-animating-up odometer-animating-down odometer-animating"),0<e?Y(this.el,"odometer-animating-up"):Y(this.el,"odometer-animating-down"),this.stopWatchingMutations(),this.animate(d),this.startWatchingMutations(),setTimeout(function(){return f.el.offsetHeight,Y(f.el,"odometer-animating")},0),this.value=d):void 0},b.prototype.renderDigit=function(){return Z(K)},b.prototype.insertDigit=function(c,a){return null==a?this.inside.children.length?this.inside.insertBefore(c,this.inside.children[0]):this.inside.appendChild(c):this.inside.insertBefore(c,a)},b.prototype.addSpacer=function(e,a,b){var c;return c=Z(N),c.innerHTML=e,b&&Y(c,b),this.insertDigit(c,a)},b.prototype.addDigit=function(g,a){var h,i,j,k;if(null==a&&(a=!0),"-"===g)return this.addSpacer(g,null,"odometer-negation-mark");if("."===g)return this.addSpacer(null==(k=this.format.radix)?".":k,null,"odometer-radix-mark");if(a)for(j=!1;;){if(!this.format.repeating.length){if(j)throw new Error("Bad odometer format without digits");this.resetFormat(),j=!0}if(h=this.format.repeating[this.format.repeating.length-1],this.format.repeating=this.format.repeating.substring(0,this.format.repeating.length-1),"d"===h)break;this.addSpacer(h)}return i=this.renderDigit(),i.querySelector(".odometer-value").innerHTML=g,this.digits.push(i),this.insertDigit(i)},b.prototype.animate=function(b){return W&&"count"!==this.options.animation?this.animateSlide(b):this.animateCount(b)},b.prototype.animateCount=function(b){var a,l,m,n,o,p=this;if(l=+b-this.value)return n=m=_(),a=this.value,(o=function(){var c,d,e;return _()-n>p.options.duration?(p.value=b,p.render(),void ea(p.el,"odometerdone")):(c=_()-m,c>I&&(m=_(),e=c/p.options.duration,d=l*e,a+=d,p.render(Math.round(a))),null==ba?setTimeout(o,I):ba(o))})()},b.prototype.getDigitCount=function(){var g,h,i,j,k,l;for(j=1<=arguments.length?la.call(arguments,0):[],g=k=0,l=j.length;l>k;g=++k)i=j[g],j[g]=Math.abs(i);return h=Math.max.apply(Math,j),Math.ceil(Math.log(h+1)/Math.log(10))},b.prototype.getFractionalDigitCount=function(){var h,i,j,k,l,m,n;for(l=1<=arguments.length?la.call(arguments,0):[],i=/^\-?\d*\.(\d*?)0*$/,h=m=0,n=l.length;n>m;h=++m)k=l[h],l[h]=k.toString(),j=i.exec(l[h]),l[h]=null==j?0:j[1].length;return Math.max.apply(Math,l)},b.prototype.resetDigits=function(){return this.digits=[],this.ribbons=[],this.inside.innerHTML="",this.resetFormat()},b.prototype.animateSlide=function(e){var r,A,F,G,H,I,J,K,M,N,O,P,Q,R,S,T,U,V,W,X,Z,$,_,aa,ba,ca,da;if(T=this.value,K=this.getFractionalDigitCount(T,e),K&&(e*=Math.pow(10,K),T*=Math.pow(10,K)),F=e-T){for(this.bindTransitionEnd(),G=this.getDigitCount(T,e),H=[],r=0,O=W=0;0<=G?G>W:W>G;O=0<=G?++W:--W){if(U=fa(T/Math.pow(10,G-O-1)),J=fa(e/Math.pow(10,G-O-1)),I=J-U,Math.abs(I)>this.MAX_VALUES){for(N=[],P=I/(this.MAX_VALUES+this.MAX_VALUES*r*L),A=U;0<I&&J>A||0>I&&A>J;)N.push(Math.round(A)),A+=P;N[N.length-1]!==J&&N.push(J),r++}else N=function(){da=[];for(var b=U;J>=U?J>=b:b>=J;J>=U?b++:b--)da.push(b);return da}.apply(this);for(O=X=0,$=N.length;$>X;O=++X)M=N[O],N[O]=Math.abs(M%10);H.push(N)}for(this.resetDigits(),ca=H.reverse(),O=Z=0,_=ca.length;_>Z;O=++Z)for(N=ca[O],this.digits[O]||this.addDigit(" ",O>=K),null==(V=this.ribbons)[O]&&(V[O]=this.digits[O].querySelector(".odometer-ribbon-inner")),this.ribbons[O].innerHTML="",0>F&&(N=N.reverse()),Q=ba=0,aa=N.length;aa>ba;Q=++ba)M=N[Q],S=document.createElement("div"),S.className="odometer-value",S.innerHTML=M,this.ribbons[O].appendChild(S),Q===N.length-1&&Y(S,"odometer-last-value"),0===Q&&Y(S,"odometer-first-value");return 0>U&&this.addDigit("-"),R=this.inside.querySelector(".odometer-radix-mark"),null!=R&&R.parent.removeChild(R),K?this.addSpacer(this.format.radix,this.digits[K-1],"odometer-radix-mark"):void 0}},b}(),T.options=null==(ja=window.odometerOptions)?{}:ja,setTimeout(function(){var f,g,h,i,j;if(window.odometerOptions){for(f in i=window.odometerOptions,j=[],i)g=i[f],j.push(null==(h=T.options)[f]?h[f]=g:(h=T.options)[f]);return j}},0),T.init=function(){var g,h,i,j,k,l;if(null!=document.querySelectorAll){for(h=document.querySelectorAll(T.options.selector||".odometer"),l=[],i=0,j=h.length;j>i;i++)g=h[i],l.push(g.odometer=new T({el:g,value:null==(k=g.innerText)?g.textContent:k}));return l}},null!=(null==(ka=document.documentElement)?void 0:ka.doScroll)&&null!=document.createEventObject?(ia=document.onreadystatechange,document.onreadystatechange=function(){return"complete"===document.readyState&&!1!==T.options.auto&&T.init(),null==ia?void 0:ia.apply(this,arguments)}):document.addEventListener("DOMContentLoaded",function(){return!1===T.options.auto?void 0:T.init()},!1),"function"==typeof define&&define.amd?define([],function(){return T}):"undefined"!=typeof exports&&null!==exports?module.exports=T:window.Odometer=T}).call(this);